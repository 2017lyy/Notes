# Classification of take-out orderers by Expectation Maximization Algorithm.

* Topic: Research on UCAS students' online take-out ordering

* Group members: 王华强、刘蕴哲、杨钊、高云聪

---

## Introduction

General statement.
(4 min)

Well, let me ask a question first.  How many of you often order takeout?  If you do, please put up your hands.  OK, then our project has close relation to you.  Let’s take a look.  With the fast development of ecommerce platforms, traditional catering industry starts to search for growth in the cyber world.  And take-out gets its way.  According to research, the whole market of online take-out will reach at 118 billion yuan per year at the end of 2017.  It will grow even faster in the following years.  We students are the very first group who switches to these take-out platforms.  However, there lacks take-out reports specialized in university students.  And this triggered us to launch a project to collect takeout-related data in UCAS and try to find patterns of take-out ordering activity.
In order to get enough information as soon as we can, we decided to adopt the method of online questionnaire.  Considering that to find an unknown pattern requires large amount of data, we try to cover as wide range as we can in the questionnaire.  However, a redundant questionnaire is time-consuming and will lead to significantly low recovering rate. So, we have to obtain enough information with as few questions as we can.  We finally decided to collect the following information: platforms students used, frequency of ordering takeout, time preference, price range, proportion to life expenses, factors influencing your choice, reasons for ordering takeout, worry towards sanitation among students and parents, evaluation of takeout and canteen.

As we all know, many students are not satisfied with our canteen.  As a result, in the very beginning, we assume that students’ poor evaluation of canteen can be the major factor leads to their ordering takeout.  We also thought that many students together with their parents will worry about the sanitary conditions of takeout for that there are many negative reports on it.  In addition, we thought that the very first factor students consider when choosing takeout is price.  But the result is really interesting, we are wrong.  The raw data can be checked in our report, if you are interesting in it, you can switch to it for detailed information.  The data totally changes our views on the takeout activities.  Though it helped us eliminate our wrong impression on this problem, we found that we failed to reach to any constructive conclusion with the data.  The data is so messy that we could not find any relation among them.  Simple disposal just could not work.  As a result we switch to a method called EM algorithm. 

## Methods

1. Questionare Design (1 min) 
1. Pre-experiment (half min) 
Before we formally start mining the data by EM, we tested many valid algorithm using their initial parameter, and compare each one for the better result.

Almost all the algorithm we tested returned wanting results, and some of them were even worse than random classification. Yet EM algorithm gived meaningful results, then we choose to use the it for the further data mining job. 

1. EM Algorithm (1 min) E-step(guess) and M-step(correct)
The full name of EM Algorithm is called The Expectation Maximization Algorithm. It can be used to generate cluster for the data set. It can be divided into 2 steps, the first step is to guess the classification, and the second step is to use the data set to check and correct the result. By doing this over and over again, a meaningful classification can be generated.

## Results

1. EM result(1st time) and Improvement (1 min)
At the very beginning, we apply the EM algorithm directly to the pre-processed data, and we get the following result:
(Table 1)
The EM algorithm did succeed in divide the raw data into two different sets with similar size. For most of the attributes int the result list, the difference is not obvious. However, for some of them, the table shows that the 2 sets have huge difference. We picked out these attributes as following:
(Table 2)

We then did some further process to the data set in order to improve the result:

Firstly, some attributes is greatly imbalanced. In this situation, this attribute can be deleted in the next EM test, for it can hardly provide any useful information, and may mislead the algorithm.

Besides, one question with many different options can also add up to the difficulty of data analyze. In order to avoid this, we choose to merge the options of such questions.

We then applied EM algorithm to the modefied data set, and the result is far more better than the previous one.

1. Final result
Look at this table generated by the algorithm. This is the final result we get. It shows that we can divide the take-out orderers in UCAS into two groups. Generally, the first group can be described as people who have negative attitudes towards the canteen, most of them highly evaluated take-out, and enjoyed ordering take-out together with their roommates. Meanwhile, most of them also believes that the canteen is too crowded some times.

The other group of people share different views with the first group. Only half of them claim that they choose take-out because the canteen is too awful, while in the first group almost all people hold negative attitudes toward the canteen. People in the second group order take-out mainly because of they missed the time for lunch or dinner. These people order take-out mainly at the weekends, and they are less likely to share take-out with their friends.

The same result can be generated by using this:
```
weka.clusterers.EM -I 100 -N -1 -X 10 -max -1 -ll-cv 1.0E-6 -ll-iter 1.0E-6 -M 1.0E-6 -K 10 -num-slots 1 -S 100
```

## Discussion

1. Usage & Application
1. Further research (1 min)
1. Summary (1 min)
I would like to do some discussion about the result:

Firstly, compared with other researches about the university take-out ordering , this research provides a quantified model for take-out ordering, which is far more convincing and more repeatable. By using this model, we can get one person's taken-out ordering pattern from limited information.

Secondly, we suspect that the activity of take-out ordering is also related to the academic achievement and the physical fitness of the orderer.

However, for 2 reasons, it was not included in this survey.

The first limitation is the size of the questionnaire is already too large so it is unwise to add more questions.

The second limit is about the privacy of the participants. For some of the participants may not want to offer their GPA, it is hard to establish the link between take-out ordering and grades.

As a result, the research is only about the take-out ordering itself. Yet we believe further research about the relationship between take-out ordering and academical and physical performance will lead to more exciting findings.

## Q&A

(1-2 min)
